// Demo batch data for when blockchain is not connected
// Uses Unix timestamps (seconds)

const now = Math.floor(Date.now() / 1000)
const oneYearAgo = now - 365 * 24 * 60 * 60
const sixMonthsAgo = now - 180 * 24 * 60 * 60
const threeMonthsAgo = now - 90 * 24 * 60 * 60
const oneMonthAgo = now - 30 * 24 * 60 * 60
const sixMonthsFuture = now + 180 * 24 * 60 * 60
const nineMonthsFuture = now + 270 * 24 * 60 * 60
const oneYearFuture = now + 365 * 24 * 60 * 60

export const DEMO_BATCHES = [
  // Valid batches (All filter)
  {
    id: 1,
    batchNumber: 'BATCH-2024-001',
    medicineName: 'Paracetamol 500mg',
    genericName: 'Acetaminophen',
    manufacturer: '',
    manufacturedAt: threeMonthsAgo,
    expiresAt: nineMonthsFuture,
    origin: 'Dhaka Factory, Bangladesh',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 1000,
    dispensedUnits: 342,
  },
  {
    id: 2,
    batchNumber: 'BATCH-2024-002',
    medicineName: 'Amoxicillin 500mg',
    genericName: 'Amoxicillin',
    manufacturer: '',
    manufacturedAt: sixMonthsAgo,
    expiresAt: sixMonthsFuture,
    origin: 'Chittagong Pharma Ltd',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 500,
    dispensedUnits: 180,
  },
  {
    id: 3,
    batchNumber: 'BATCH-2024-003',
    medicineName: 'Metformin 850mg',
    genericName: 'Metformin Hydrochloride',
    manufacturer: '',
    manufacturedAt: oneMonthAgo,
    expiresAt: oneYearFuture,
    origin: 'Square Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 2000,
    dispensedUnits: 0,
  },
  // Flagged batches
  {
    id: 4,
    batchNumber: 'BATCH-2024-004',
    medicineName: 'Omeprazole 20mg',
    genericName: 'Omeprazole',
    manufacturer: '',
    manufacturedAt: threeMonthsAgo,
    expiresAt: nineMonthsFuture,
    origin: 'Incepta Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: true,
    flagReason: 'Quality inspection pending - packaging variance reported',
    totalUnits: 800,
    dispensedUnits: 120,
  },
  {
    id: 5,
    batchNumber: 'BATCH-2024-005',
    medicineName: 'Losartan 50mg',
    genericName: 'Losartan Potassium',
    manufacturer: '',
    manufacturedAt: sixMonthsAgo,
    expiresAt: sixMonthsFuture,
    origin: 'Beximco Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: true,
    flagReason: 'Storage temperature deviation during transit',
    totalUnits: 600,
    dispensedUnits: 50,
  },
  // Recalled batches
  {
    id: 6,
    batchNumber: 'BATCH-2023-101',
    medicineName: 'Ibuprofen 400mg',
    genericName: 'Ibuprofen',
    manufacturer: '',
    manufacturedAt: oneYearAgo,
    expiresAt: sixMonthsFuture,
    origin: 'Dhaka Factory, Bangladesh',
    isRecalled: true,
    recallReason: 'Contamination detected in sample testing',
    isFlagged: false,
    flagReason: '',
  },
  {
    id: 7,
    batchNumber: 'BATCH-2023-098',
    medicineName: 'Cetirizine 10mg',
    genericName: 'Cetirizine Hydrochloride',
    manufacturer: '',
    manufacturedAt: oneYearAgo,
    expiresAt: threeMonthsAgo + 86400 * 30,
    origin: 'Aristopharma Ltd',
    isRecalled: true,
    recallReason: 'Wrong label - dosage mismatch',
    isFlagged: false,
    flagReason: '',
  },
  // Expired batches
  {
    id: 8,
    batchNumber: 'BATCH-2023-055',
    medicineName: 'Ciprofloxacin 500mg',
    genericName: 'Ciprofloxacin Hydrochloride',
    manufacturer: '',
    manufacturedAt: oneYearAgo,
    expiresAt: oneMonthAgo,
    origin: 'Chittagong Pharma Ltd',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 700,
    dispensedUnits: 700,
  },
  {
    id: 9,
    batchNumber: 'BATCH-2023-042',
    medicineName: 'Amlodipine 5mg',
    genericName: 'Amlodipine Besylate',
    manufacturer: '',
    manufacturedAt: oneYearAgo,
    expiresAt: threeMonthsAgo,
    origin: 'Square Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 1200,
    dispensedUnits: 950,
  },
  // Additional valid batches
  {
    id: 10,
    batchNumber: 'BATCH-2024-006',
    medicineName: 'Azithromycin 250mg',
    genericName: 'Azithromycin Dihydrate',
    manufacturer: '',
    manufacturedAt: threeMonthsAgo,
    expiresAt: nineMonthsFuture,
    origin: 'Renata Ltd, Gazipur',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 400,
    dispensedUnits: 89,
  },
  {
    id: 11,
    batchNumber: 'BATCH-2024-007',
    medicineName: 'Atorvastatin 20mg',
    genericName: 'Atorvastatin Calcium',
    manufacturer: '',
    manufacturedAt: sixMonthsAgo,
    expiresAt: sixMonthsFuture,
    origin: 'Incepta Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 1800,
    dispensedUnits: 560,
  },
  {
    id: 12,
    batchNumber: 'BATCH-2024-008',
    medicineName: 'Pantoprazole 40mg',
    genericName: 'Pantoprazole Sodium',
    manufacturer: '',
    manufacturedAt: oneMonthAgo,
    expiresAt: oneYearFuture,
    origin: 'Beximco Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 900,
    dispensedUnits: 0,
  },
  // Additional flagged
  {
    id: 13,
    batchNumber: 'BATCH-2024-009',
    medicineName: 'Esomeprazole 40mg',
    genericName: 'Esomeprazole Magnesium',
    manufacturer: '',
    manufacturedAt: threeMonthsAgo,
    expiresAt: nineMonthsFuture,
    origin: 'Healthcare Pharmaceuticals',
    isRecalled: false,
    recallReason: '',
    isFlagged: true,
    flagReason: 'Customer complaint - packaging seal integrity',
    totalUnits: 550,
    dispensedUnits: 200,
  },
  // Additional recalled
  {
    id: 14,
    batchNumber: 'BATCH-2023-087',
    medicineName: 'Clopidogrel 75mg',
    genericName: 'Clopidogrel Bisulfate',
    manufacturer: '',
    manufacturedAt: oneYearAgo,
    expiresAt: sixMonthsFuture,
    origin: 'Square Pharmaceuticals',
    isRecalled: true,
    recallReason: 'NDMA impurity above acceptable limit',
    isFlagged: false,
    flagReason: '',
    totalUnits: 1100,
    dispensedUnits: 650,
  },
  // Additional expired
  {
    id: 15,
    batchNumber: 'BATCH-2023-031',
    medicineName: 'Doxycycline 100mg',
    genericName: 'Doxycycline Hyclate',
    manufacturer: '',
    manufacturedAt: oneYearAgo,
    expiresAt: sixMonthsAgo,
    origin: 'Aristopharma Ltd',
    isRecalled: false,
    recallReason: '',
    isFlagged: false,
    flagReason: '',
    totalUnits: 850,
    dispensedUnits: 850,
  },
]

/** Find a demo batch by batch number (case-insensitive) */
export function findDemoBatchByNumber(batchNumber) {
  const num = String(batchNumber || '').trim()
  if (!num) return null
  return DEMO_BATCHES.find(b =>
    String(b.batchNumber || '').toLowerCase() === num.toLowerCase()
  ) || null
}
